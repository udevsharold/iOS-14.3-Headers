/*
* This header is generated by classdump-dyld 1.0
* on Tuesday, March 2, 2021 at 11:33:09 AM US Time
* Operating System: Version 14.3 (Build 18C66)
* Image Source: /System/Library/VideoProcessors/UB.bundle/UB
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013-2016 by Elias Limneos.
*/


@protocol MTLComputePipelineState, MTLTexture, OS_dispatch_queue;
#import <UB/UB-Structs.h>
@class FigMetalContext, DeepFusionPreEspressoStage, NSString, DeepFusionPostEspressoStage, DeepFusionGaussianPyramid, DeepFusionLaplacianPyramid, NSObject;

@interface TiledFusionStage : NSObject {

	FigMetalContext* _metal;
	int _deepFusionVersion;
	void* _espresso_ctx;
	DeepFusionPreEspressoStage* _preEspressoStage;
	void* _espresso_plan;
	SCD_Struct_Ti49* _espresso_net;
	NSString* _networkVersion;
	DeepFusionPostEspressoStage* _postEspresso;
	DFApplyEspressoOutputUniforms _uniforms[4];
	_IOSurface* _inputSurf[24];
	_IOSurface* _outputSurf[24];
	_CVBuffer* _inputSurfPb[24];
	_CVBuffer* _outputSurfPb[24];
	int _padding;
	unsigned _tileWidth;
	unsigned _tileHeight;
	unsigned long long tileBufferStride;
	id<MTLComputePipelineState> _kernelYUV420ToTile;
	id<MTLComputePipelineState> _kernelSyntheticLongHighlightFixYUV420ToTile;
	DeepFusionGaussianPyramid* _YUVGaussian[2][2];
	DeepFusionLaplacianPyramid* _YUVLaplacian[2][2];
	DeepFusionGaussianPyramid* _YUVNoiseGaussian[2][2];
	id<MTLTexture> _dfTexIn[2][4];
	id<MTLTexture> _dfTexOut[2][4];
	id<MTLTexture> _tiledOutputYUV444[2];
	id<MTLTexture> _synthRefNoisePretuning[2];
	id<MTLTexture> _synthLongNoisePretuning[2];
	NSObject*<OS_dispatch_queue> _espressoCallbackQueue;
	int _loadedEspressoModel;
	BOOL _isHarvesting;

}

@property (assign,nonatomic) BOOL isHarvesting;              //@synthesize isHarvesting=_isHarvesting - In the implementation block
-(void)dealloc;
-(id)platformIdentifier;
-(int)compileShaders;
-(int)allocateResourcesUsingScratchBuffer:(id)arg1 offset:(unsigned long long)arg2 ;
-(id)initWithContext:(id)arg1 preEspressoStage:(id)arg2 deepFusionVersion:(int)arg3 ;
-(void)setIsHarvesting:(BOOL)arg1 ;
-(int)computeScratchBufferSize:(unsigned long long*)arg1 pixelFormat:(unsigned long long)arg2 ;
-(int)runWithReferenceLuma:(id)arg1 referenceChroma:(id)arg2 longLuma:(id)arg3 longChroma:(id)arg4 preFusionMap:(id)arg5 slFusionMap:(id)arg6 slQuantBounds:(NoiseDivisorQuantizationBoundaries*)arg7 longFusionMap:(id)arg8 skinMask:(id)arg9 lscGains:(id)arg10 totalGain:(float)arg11 outLuma:(id)arg12 outChroma:(id)arg13 deferredProcessingPlist:(id)arg14 lscGainGreenMax:(float)arg15 EVM_EV0_motionScore:(float)arg16 eitRatio:(float)arg17 aeShutterTimeRatio:(float)arg18 hasSIFR:(BOOL)arg19 isStationary:(BOOL)arg20 isSyntheticLongWithRealLong:(BOOL)arg21 colorCorrection:(SCD_Struct_Wa0)arg22 espressoModel:(int)arg23 noiseEstimationParams:(NoiseEstimationParameters*)arg24 espressoModelForTuning:(int)arg25 sideCar:(id)arg26 ;
-(int)computeAMBNRDenoiseBoostMap:(id)arg1 longFusionMap:(id)arg2 ev0FusionMap:(id)arg3 ev0Metadata:(frameMetadata*)arg4 longMetadata:(frameMetadata*)arg5 numEV0:(int)arg6 deferredProcessingPlist:(id)arg7 espressoModel:(int)arg8 isSyntheticLongWithRealLong:(BOOL)arg9 totalGain:(float)arg10 ;
-(void)unloadEspressoNetwork;
-(int)loadEspressoNetworkFromPath:(const char*)arg1 andStoreNetwork:(SCD_Struct_Ti49*)arg2 andPlan:(void*)arg3 ;
-(int)allocateEspressoBuffers;
-(void)freeEspressoBuffers:(BOOL)arg1 ;
-(void)freeAllEspressoBuffers;
-(unsigned long long)computeTileSizeForPixelFormat:(unsigned long long)arg1 ;
-(int)maybeLoadEspressoNetwork:(int)arg1 ;
-(int)stage1GPUonTile:(TileBounds*)arg1 refLuma:(id)arg2 referenceChroma:(id)arg3 longLuma:(id)arg4 longChroma:(id)arg5 lscGains:(id)arg6 slFusionMap:(id)arg7 longFusionMap:(id)arg8 eitRatio:(float)arg9 hasSIFR:(BOOL)arg10 noiseEstimationParams:(NoiseEstimationParameters*)arg11 ;
-(int)stage2ANEonTile:(TileBounds*)arg1 ;
-(int)stage3GPUonTile:(TileBounds*)arg1 preFusionMap:(id)arg2 slFusionMap:(id)arg3 longFusionMap:(id)arg4 skinMask:(id)arg5 lscGains:(id)arg6 outLuma:(id)arg7 outChroma:(id)arg8 espressoModelForTuning:(int)arg9 ;
-(BOOL)isHarvesting;
@end

